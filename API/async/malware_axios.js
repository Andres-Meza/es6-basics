const axios = require('axios');

let config = {
  method: 'GET',
  url: 'https://urlhaus-api.abuse.ch/v1/urls/recent/'
}

const request = async () => {
  try {
    let response = await axios(config);
    response.data.urls.forEach(element => {
      console.log(`Id: ${element.id}`);
      console.log(`URL Reference: ${element.urlhaus_reference}`);
      console.log(`Amenaza: ${element.threat}`);
      console.log("++++++++++++++++++++++++++++++")
    });
  } catch (e) {
    console.log(e);
  }
}

axios(config)
  .then((response) => {
    console.log(response.data.urls);
  })
  .catch((error) => {
    console.log(error);
  });